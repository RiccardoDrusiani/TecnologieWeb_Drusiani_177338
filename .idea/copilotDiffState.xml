<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/Autosaloon_Modena/apps/Concessionaria/forms.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Autosaloon_Modena/apps/Concessionaria/forms.py" />
              <option name="originalContent" value="from django import forms&#10;from django.contrib.auth import authenticate&#10;from django.contrib.auth.models import User&#10;from django.core.exceptions import ValidationError&#10;&#10;from .models import Concessionaria&#10;&#10;class ConcessionariaLoginForm(forms.Form):&#10;    email = forms.EmailField(label='Email', widget=forms.EmailInput(attrs={'class': 'form-control', 'placeholder': ''}))&#10;    password = forms.CharField(widget=forms.PasswordInput(attrs={'class': 'form-control', 'placeholder': ''}))&#10;&#10;    def clean(self):&#10;        cleaned_data = super().clean()&#10;        email = cleaned_data.get('email')&#10;        password = cleaned_data.get('password')&#10;        if email and password:&#10;            user = authenticate(email=email, password=password)&#10;            if user is None:&#10;                raise forms.ValidationError('Email o password non validi')&#10;            cleaned_data['user'] = user&#10;        return cleaned_data&#10;&#10;    def get_user(self):&#10;        return self.cleaned_data.get('user', None)&#10;&#10;class ConcessionariaForm(forms.ModelForm):&#10;    email = forms.EmailField(widget=forms.EmailInput(attrs={'class': 'form-control', 'placeholder': ''}), required=True)&#10;    username = forms.CharField(widget=forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}), required=True)&#10;    password = forms.CharField(widget=forms.PasswordInput(attrs={'class': 'form-control', 'placeholder': ''}), required=True)&#10;&#10;    class Meta:&#10;        model = Concessionaria&#10;        fields = ['username', 'email', 'password', 'partita_iva', 'codice_fiscale']&#10;        widgets = {&#10;            'partita_iva': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;            'codice_fiscale': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;        }&#10;&#10;    def save(self, commit=True):&#10;        user = User.objects.create_user(&#10;            username=self.cleaned_data['username'],&#10;            email=self.cleaned_data['email'],&#10;            password=self.cleaned_data['password']&#10;        )&#10;        concessionaria = super().save(commit=False)&#10;        concessionaria.user = user&#10;        if commit:&#10;            concessionaria.save()&#10;        return concessionaria&#10;&#10;class ConcessionariaUpdateForm(forms.ModelForm):&#10;    class Meta:&#10;        model = Concessionaria&#10;        fields = ['partita_iva', 'codice_fiscale']&#10;        widgets = {&#10;            'partita_iva': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;            'codice_fiscale': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;        }&#10;&#10;class ConcessionariaCreateForm(forms.ModelForm):&#10;    password = forms.CharField(widget=forms.PasswordInput, label=&quot;Password&quot;)&#10;    conferma_password = forms.CharField(widget=forms.PasswordInput, label=&quot;Conferma Password&quot;)&#10;    partita_iva = forms.CharField(max_length=11, label=&quot;Partita IVA&quot;)&#10;    codice_fiscale = forms.CharField(max_length=16, label=&quot;Codice Fiscale&quot;)&#10;&#10;    class Meta:&#10;        model = User&#10;        fields = ['username', 'email', 'password']&#10;&#10;    def clean(self):&#10;        cleaned_data = super().clean()&#10;        password = cleaned_data.get('password')&#10;        conferma_password = cleaned_data.get('conferma_password')&#10;        if password != conferma_password:&#10;            raise ValidationError(&quot;Le password non corrispondono.&quot;)&#10;        return cleaned_data&#10;&#10;    def clean_username(self):&#10;        username = self.cleaned_data.get('username')&#10;        if User.objects.filter(username=username).exists():&#10;            raise ValidationError(&quot;Il nome utente è già in uso. Scegli un altro nome utente.&quot;)&#10;        return username&#10;&#10;    def save(self, commit=True):&#10;        user = super().save(commit=True)&#10;        Concessionaria.objects.create(&#10;            user=user,&#10;            partita_iva=self.cleaned_data['partita_iva'],&#10;            codice_fiscale=self.cleaned_data['codice_fiscale']&#10;        )&#10;        return user&#10;" />
              <option name="updatedContent" value="from django import forms&#13;&#10;from django.contrib.auth import authenticate&#13;&#10;from django.contrib.auth.models import User&#13;&#10;from django.core.exceptions import ValidationError&#13;&#10;&#13;&#10;from .models import Concessionaria&#13;&#10;&#13;&#10;class ConcessionariaLoginForm(forms.Form):&#13;&#10;    email = forms.EmailField(label='Email', widget=forms.EmailInput(attrs={'class': 'form-control', 'placeholder': ''}))&#13;&#10;    password = forms.CharField(widget=forms.PasswordInput(attrs={'class': 'form-control', 'placeholder': ''}))&#13;&#10;&#13;&#10;    def clean(self):&#13;&#10;        cleaned_data = super().clean()&#13;&#10;        email = cleaned_data.get('email')&#13;&#10;        password = cleaned_data.get('password')&#13;&#10;        if email and password:&#13;&#10;            user = authenticate(email=email, password=password)&#13;&#10;            if user is None:&#13;&#10;                raise forms.ValidationError('Email o password non validi')&#13;&#10;            cleaned_data['user'] = user&#13;&#10;        return cleaned_data&#13;&#10;&#13;&#10;    def get_user(self):&#13;&#10;        return self.cleaned_data.get('user', None)&#13;&#10;&#13;&#10;class ConcessionariaForm(forms.ModelForm):&#13;&#10;    email = forms.EmailField(widget=forms.EmailInput(attrs={'class': 'form-control', 'placeholder': ''}), required=True)&#13;&#10;    username = forms.CharField(widget=forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}), required=True)&#13;&#10;    password = forms.CharField(widget=forms.PasswordInput(attrs={'class': 'form-control', 'placeholder': ''}), required=True)&#13;&#10;&#13;&#10;    class Meta:&#13;&#10;        model = Concessionaria&#13;&#10;        fields = ['username', 'email', 'password', 'partita_iva', 'codice_fiscale']&#13;&#10;        widgets = {&#13;&#10;            'partita_iva': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;            'codice_fiscale': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;        }&#13;&#10;&#13;&#10;    def save(self, commit=True):&#13;&#10;        user = User.objects.create_user(&#13;&#10;            username=self.cleaned_data['username'],&#13;&#10;            email=self.cleaned_data['email'],&#13;&#10;            password=self.cleaned_data['password']&#13;&#10;        )&#13;&#10;        concessionaria = super().save(commit=False)&#13;&#10;        concessionaria.user = user&#13;&#10;        if commit:&#13;&#10;            concessionaria.save()&#13;&#10;        return concessionaria&#13;&#10;&#13;&#10;class ConcessionariaUpdateForm(forms.ModelForm):&#13;&#10;    class Meta:&#13;&#10;        model = Concessionaria&#13;&#10;        fields = ['partita_iva', 'codice_fiscale']&#13;&#10;        widgets = {&#13;&#10;            'partita_iva': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;            'codice_fiscale': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;        }&#13;&#10;&#13;&#10;class ConcessionariaCreateForm(forms.ModelForm):&#13;&#10;    password = forms.CharField(widget=forms.PasswordInput, label=&quot;Password&quot;)&#13;&#10;    conferma_password = forms.CharField(widget=forms.PasswordInput, label=&quot;Conferma Password&quot;)&#13;&#10;    partita_iva = forms.CharField(max_length=11, label=&quot;Partita IVA&quot;)&#13;&#10;    codice_fiscale = forms.CharField(max_length=16, label=&quot;Codice Fiscale&quot;)&#13;&#10;&#13;&#10;    class Meta:&#13;&#10;        model = User&#13;&#10;        fields = ['username', 'email', 'password']&#13;&#10;&#13;&#10;    def clean(self):&#13;&#10;        cleaned_data = super().clean()&#13;&#10;        password = cleaned_data.get('password')&#13;&#10;        conferma_password = cleaned_data.get('conferma_password')&#13;&#10;        if password != conferma_password:&#13;&#10;            raise ValidationError(&quot;Le password non corrispondono.&quot;)&#13;&#10;        return cleaned_data&#13;&#10;&#13;&#10;    def save(self, commit=True):&#13;&#10;        user = super().save(commit=True)  # Salva l'oggetto User prima&#13;&#10;&#13;&#10;        # Creazione del modello Concessionaria&#13;&#10;        Concessionaria.objects.create(&#13;&#10;            user=user,&#13;&#10;            partita_iva=self.cleaned_data['partita_iva'],&#13;&#10;            codice_fiscale=self.cleaned_data['codice_fiscale']&#13;&#10;        )&#13;&#10;        return user" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Autosaloon_Modena/apps/Utente/form.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Autosaloon_Modena/apps/Utente/form.py" />
              <option name="originalContent" value="from django import forms&#10;from django.contrib.auth.models import User&#10;from .models import UserExtendModel&#10;from apps.Auto.models import Commento, Risposta&#10;&#10;class UserCreateForm(forms.ModelForm):&#10;    class Meta:&#10;        model = User&#10;        fields = ['username', 'email', 'password', 'first_name', 'last_name']&#10;        widgets = {&#10;            'username': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;            'email': forms.EmailInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;            'password': forms.PasswordInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;            'first_name': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;            'last_name': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;        }&#10;&#10;class UserExtendForm(forms.ModelForm):&#10;    class Meta:&#10;        model = UserExtendModel&#10;        fields = ['data_nascita', 'indirizzo', 'telefono', 'immagine_profilo']&#10;        widgets = {&#10;            'data_nascita': forms.DateInput(attrs={'class': 'form-control', 'type': 'date', 'placeholder': ''}),&#10;            'indirizzo': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;            'telefono': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;            'immagine_profilo': forms.ClearableFileInput(attrs={'class': 'form-control'}),&#10;        }&#10;&#10;class UserUpdateForm(forms.ModelForm):&#10;    class Meta:&#10;        model = User&#10;        fields = ['email', 'first_name', 'last_name']&#10;        widgets = {&#10;            'email': forms.EmailInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;            'first_name': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;            'last_name': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#10;        }&#10;&#10;class UserDeleteForm(forms.Form):&#10;    confirm = forms.BooleanField(label='Conferma eliminazione utente', widget=forms.CheckboxInput(attrs={'class': 'form-check-input'}))&#10;&#10;# Placeholder per Commento, Risposta, Segnalazione&#10;class CommentoForm(forms.ModelForm):&#10;    class Meta:&#10;        model = Commento&#10;        fields = ['testo']&#10;        widgets = {&#10;            'testo': forms.Textarea(attrs={'class': 'form-control', 'placeholder': ''}),&#10;        }&#10;&#10;class RispostaForm(forms.ModelForm):&#10;    class Meta:&#10;        model = Risposta&#10;        fields = ['testo']&#10;        widgets = {&#10;            'testo': forms.Textarea(attrs={'class': 'form-control', 'placeholder': ''}),&#10;        }&#10;&#10;class SegnalazioneForm(forms.Form):&#10;    motivo = forms.CharField(widget=forms.Textarea(attrs={'class': 'form-control', 'placeholder': ''}))&#10;&#10;" />
              <option name="updatedContent" value="from django import forms&#13;&#10;from django.contrib.auth.models import User&#13;&#10;from .models import UserExtendModel, Segnalazione&#13;&#10;from apps.Auto.models import Commento, Risposta&#13;&#10;&#13;&#10;class UserCreateForm(forms.ModelForm):&#13;&#10;    class Meta:&#13;&#10;        model = User&#13;&#10;        fields = ['username', 'email', 'password', 'first_name', 'last_name']&#13;&#10;        widgets = {&#13;&#10;            'username': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;            'email': forms.EmailInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;            'password': forms.PasswordInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;            'first_name': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;            'last_name': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;        }&#13;&#10;&#13;&#10;class UserExtendForm(forms.ModelForm):&#13;&#10;    class Meta:&#13;&#10;        model = UserExtendModel&#13;&#10;        fields = ['data_nascita', 'indirizzo', 'telefono', 'immagine_profilo']&#13;&#10;        widgets = {&#13;&#10;            'data_nascita': forms.DateInput(attrs={'class': 'form-control', 'type': 'date', 'placeholder': ''}),&#13;&#10;            'indirizzo': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;            'telefono': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;            'immagine_profilo': forms.ClearableFileInput(attrs={'class': 'form-control'}),&#13;&#10;        }&#13;&#10;&#13;&#10;class UserUpdateForm(forms.ModelForm):&#13;&#10;    class Meta:&#13;&#10;        model = User&#13;&#10;        fields = ['email', 'first_name', 'last_name']&#13;&#10;        widgets = {&#13;&#10;            'email': forms.EmailInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;            'first_name': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;            'last_name': forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;        }&#13;&#10;&#13;&#10;class UserDeleteForm(forms.Form):&#13;&#10;    confirm = forms.BooleanField(label='Conferma eliminazione utente', widget=forms.CheckboxInput(attrs={'class': 'form-check-input'}))&#13;&#10;&#13;&#10;# Placeholder per Commento, Risposta, Segnalazione&#13;&#10;class CommentoForm(forms.ModelForm):&#13;&#10;    class Meta:&#13;&#10;        model = Commento&#13;&#10;        fields = ['testo']&#13;&#10;        widgets = {&#13;&#10;            'testo': forms.Textarea(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;        }&#13;&#10;&#13;&#10;class RispostaForm(forms.ModelForm):&#13;&#10;    class Meta:&#13;&#10;        model = Risposta&#13;&#10;        fields = ['testo']&#13;&#10;        widgets = {&#13;&#10;            'testo': forms.Textarea(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;        }&#13;&#10;&#13;&#10;class SegnalazioneForm(forms.ModelForm):&#13;&#10;    class Meta:&#13;&#10;        model = Segnalazione&#13;&#10;        fields = ['motivo']&#13;&#10;        widgets = {&#13;&#10;            'motivo': forms.Textarea(attrs={'class': 'form-control', 'placeholder': ''}),&#13;&#10;        }&#13;&#10;&#13;&#10;class UserFullUpdateForm(forms.ModelForm):&#13;&#10;    email = forms.EmailField(widget=forms.EmailInput(attrs={'class': 'form-control', 'placeholder': ''}))&#13;&#10;    first_name = forms.CharField(widget=forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}))&#13;&#10;    last_name = forms.CharField(widget=forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}))&#13;&#10;    data_nascita = forms.DateField(required=False, widget=forms.DateInput(attrs={'class': 'form-control', 'type': 'date', 'placeholder': ''}))&#13;&#10;    indirizzo = forms.CharField(required=False, widget=forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}))&#13;&#10;    telefono = forms.CharField(required=False, widget=forms.TextInput(attrs={'class': 'form-control', 'placeholder': ''}))&#13;&#10;    immagine_profilo = forms.ImageField(required=False, widget=forms.ClearableFileInput(attrs={'class': 'form-control'}))&#13;&#10;&#13;&#10;    class Meta:&#13;&#10;        model = UserExtendModel&#13;&#10;        fields = ['email', 'first_name', 'last_name', 'data_nascita', 'indirizzo', 'telefono', 'immagine_profilo']&#13;&#10;&#13;&#10;    def __init__(self, *args, **kwargs):&#13;&#10;        instance = kwargs.get('instance')&#13;&#10;        initial = kwargs.get('initial', {})&#13;&#10;        if instance:&#13;&#10;            initial.update({&#13;&#10;                'email': instance.user.email,&#13;&#10;                'first_name': instance.user.first_name,&#13;&#10;                'last_name': instance.user.last_name,&#13;&#10;                'data_nascita': instance.data_nascita,&#13;&#10;                'indirizzo': instance.indirizzo,&#13;&#10;                'telefono': instance.telefono,&#13;&#10;                'immagine_profilo': instance.immagine_profilo,&#13;&#10;            })&#13;&#10;            kwargs['initial'] = initial&#13;&#10;        super().__init__(*args, **kwargs)&#13;&#10;&#13;&#10;    def save(self, commit=True):&#13;&#10;        user_extend = super().save(commit=False)&#13;&#10;        user = user_extend.user&#13;&#10;        user.email = self.cleaned_data['email']&#13;&#10;        user.first_name = self.cleaned_data['first_name']&#13;&#10;        user.last_name = self.cleaned_data['last_name']&#13;&#10;        if commit:&#13;&#10;            user.save()&#13;&#10;            user_extend.save()&#13;&#10;            if self.cleaned_data.get('immagine_profilo'):&#13;&#10;                user_extend.immagine_profilo = self.cleaned_data['immagine_profilo']&#13;&#10;                user_extend.save()&#13;&#10;        return user_extend" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Autosaloon_Modena/apps/decorator.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Autosaloon_Modena/apps/decorator.py" />
              <option name="originalContent" value="from django.shortcuts import redirect&#10;from django.http import HttpResponseForbidden&#10;&#10;def user_or_concessionaria_required(func):&#10;    &quot;&quot;&quot;&#10;    Decorator to check if the user is either authenticated as a concessionaria or a regular user.&#10;    If not, it redirects to the login page or returns a 403 Forbidden error.&#10;    &quot;&quot;&quot;&#10;    def wrapper(request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return redirect('login')  # Reindirizza alla pagina di login&#10;        if not hasattr(request.user, 'concessionaria') and not hasattr(request.user, 'is_user'):&#10;            return HttpResponseForbidden(&quot;Accesso negato: non sei autorizzato a svolgere questa azione.&quot;)&#10;        return func(request, *args, **kwargs)&#10;&#10;    return wrapper&#10;" />
              <option name="updatedContent" value="import datetime&#13;&#10;from django.shortcuts import redirect&#13;&#10;from django.http import HttpResponseForbidden&#13;&#10;from django.contrib import messages&#13;&#10;from django.utils import timezone&#13;&#10;from apps.Utente.models import UserModelBan&#13;&#10;&#13;&#10;def user_or_concessionaria_required(func):&#13;&#10;    &quot;&quot;&quot;&#13;&#10;    Decorator to check if the user is either authenticated as a concessionaria or a regular user.&#13;&#10;    If not, it redirects to the login page or returns a 403 Forbidden error.&#13;&#10;    &quot;&quot;&quot;&#13;&#10;    def wrapper(request, *args, **kwargs):&#13;&#10;        if not request.user.is_authenticated:&#13;&#10;            return redirect('login')  # Reindirizza alla pagina di login&#13;&#10;        if not hasattr(request.user, 'concessionaria') and not hasattr(request.user, 'is_user'):&#13;&#10;            return HttpResponseForbidden(&quot;Accesso negato: non sei autorizzato a svolgere questa azione.&quot;)&#13;&#10;        return func(request, *args, **kwargs)&#13;&#10;&#13;&#10;    return wrapper&#13;&#10;&#13;&#10;def ban_check(view_func):&#13;&#10;    def _wrapped_view(request, *args, **kwargs):&#13;&#10;        if request.user.is_authenticated:&#13;&#10;            try:&#13;&#10;                ban_profile = request.user.user_ban_profile&#13;&#10;                now = timezone.now()&#13;&#10;                if ban_profile.data_fine_ban and now &lt; ban_profile.data_fine_ban:&#13;&#10;                    remaining = ban_profile.data_fine_ban - now&#13;&#10;                    minutes = int(remaining.total_seconds() // 60)&#13;&#10;                    messages.error(request, f&quot;Sei bannato! Tempo rimanente: {minutes} minuti.&quot;)&#13;&#10;                    return redirect('Utente:login')&#13;&#10;            except UserModelBan.DoesNotExist:&#13;&#10;                pass&#13;&#10;        return view_func(request, *args, **kwargs)&#13;&#10;    return _wrapped_view" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Autosaloon_Modena/templates/Auto/add_auto_form.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Autosaloon_Modena/templates/Auto/add_auto_form.html" />
              <option name="updatedContent" value="{# Template parziale per il form di aggiunta auto #}&#10;{% for field in form %}&#10;  &lt;div class=&quot;mb-3&quot;&gt;&#10;    {{ field.label_tag }}&#10;    {{ field }}&#10;    {% if field.help_text %}&lt;small class=&quot;form-text text-muted&quot;&gt;{{ field.help_text }}&lt;/small&gt;{% endif %}&#10;    {% for error in field.errors %}&#10;      &lt;div class=&quot;text-danger small&quot;&gt;{{ error }}&lt;/div&gt;&#10;    {% endfor %}&#10;  &lt;/div&gt;&#10;{% endfor %}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Autosaloon_Modena/templates/Auto/auto_confirm_delete.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Autosaloon_Modena/templates/Auto/auto_confirm_delete.html" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Autosaloon_Modena/templates/Auto/auto_detail.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Autosaloon_Modena/templates/Auto/auto_detail.html" />
              <option name="originalContent" value="{% extends 'base.html' %}&#10;{% block content %}&#10;&lt;div class=&quot;container-fluid py-5&quot; style=&quot;width:100%;&quot;&gt;&#10;    &lt;div class=&quot;row justify-content-center&quot;&gt;&#10;        &lt;div class=&quot;col-12 col-xl-12 col-xxl-11&quot; style=&quot;max-width: 1200px; padding-left: 150px; padding-right: 150px; width: 100%;&quot;&gt;&#10;            {# ALERT STATO AUTO #}&#10;            {% if auto.disponibilita == 3 %}&#10;                &lt;div class=&quot;alert alert-danger text-center&quot; role=&quot;alert&quot;&gt;Auto attualmente in contrattazione&lt;/div&gt;&#10;            {% elif auto.disponibilita == 1 %}&#10;                &lt;div class=&quot;alert alert-danger text-center&quot; role=&quot;alert&quot;&gt;Auto attualmente affittata&lt;/div&gt;&#10;            {% elif auto.disponibilita == 6 %}&#10;                &lt;div class=&quot;alert alert-danger text-center&quot; role=&quot;alert&quot;&gt;Auto attualmente prenotata&lt;/div&gt;&#10;            {% endif %}&#10;            &lt;div class=&quot;card shadow-lg border-0 rounded-4&quot; style=&quot;margin-top: 20px; margin-bottom: 20px; width: 150%; margin-left: -25%;&quot;&gt;&#10;                &lt;div class=&quot;row g-0&quot;&gt;&#10;                    {% if auto.immagine %}&#10;                    &lt;div class=&quot;col-md-5 d-flex align-items-center justify-content-center p-3&quot;&gt;&#10;                        &lt;img src=&quot;{{ auto.immagine.url }}&quot; class=&quot;img-fluid rounded-4 w-100&quot; alt=&quot;{{ auto.marca }} {{ auto.modello }}&quot;&gt;&#10;                    &lt;/div&gt;&#10;                    {% endif %}&#10;                    &lt;div class=&quot;col-md-7 p-4&quot;&gt;&#10;                        &lt;h2 class=&quot;fw-bold mb-3&quot;&gt;{{ auto.marca }} {{ auto.modello }}&lt;/h2&gt;&#10;                        &lt;ul class=&quot;list-group list-group-flush mb-3&quot;&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Anno:&lt;/strong&gt; {{ auto.anno }}&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Cilindrata:&lt;/strong&gt; {{ auto.cilindrata }} cc&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Carburante:&lt;/strong&gt; {{ auto.get_carburante_display }}&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Cambio:&lt;/strong&gt; {{ auto.get_cambio_display }}&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Trazione:&lt;/strong&gt; {{ auto.get_trazione_display }}&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Chilometraggio:&lt;/strong&gt; {{ auto.chilometraggio|default:'N/A' }} km&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Disponibilità:&lt;/strong&gt; {{ auto.get_disponibilita_display }}&lt;/li&gt;&#10;                        &lt;/ul&gt;&#10;                        {% if auto.descrizione %}&#10;                        &lt;div class=&quot;mb-3&quot;&gt;&#10;                            &lt;strong&gt;Descrizione:&lt;/strong&gt;&#10;                            &lt;p&gt;{{ auto.descrizione }}&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                        {% endif %}&#10;                        {# BOTTONI AZIONE #}&#10;                        &lt;div class=&quot;mb-3&quot;&gt;&#10;                            &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;&#10;                                {% csrf_token %}&#10;                                &lt;button type=&quot;submit&quot; formaction=&quot;{% url 'Auto:acquisto_auto' auto.pk %}&quot; class=&quot;btn btn-success me-2&quot; {% if auto.disponibilita == 1 or auto.disponibilita == 3 or auto.disponibilita == 6 %}disabled{% endif %}&gt;Compra&lt;/button&gt;&#10;                                &lt;button type=&quot;submit&quot; formaction=&quot;{% url 'Auto:affitto_auto' auto.pk %}&quot; class=&quot;btn btn-primary me-2&quot; {% if auto.disponibilita == 1 or auto.disponibilita == 3 or auto.disponibilita == 6 %}disabled{% endif %}&gt;Affitta&lt;/button&gt;&#10;                                &lt;button type=&quot;submit&quot; formaction=&quot;{% url 'Auto:prenota_auto' auto.pk %}&quot; class=&quot;btn btn-warning me-2&quot; {% if auto.disponibilita == 1 or auto.disponibilita == 3 or auto.disponibilita == 6 %}disabled{% endif %}&gt;Prenota&lt;/button&gt;&#10;                                &lt;button type=&quot;submit&quot; formaction=&quot;{% url 'Auto:contrattazione_auto' auto.pk %}&quot; class=&quot;btn btn-info me-2&quot; {% if auto.disponibilita == 1 or auto.disponibilita == 3 or auto.disponibilita == 6 %}disabled{% endif %}&gt;Contratta&lt;/button&gt;&#10;                            &lt;/form&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            {# SEZIONE COMMENTI #}&#10;            &lt;div class=&quot;card mt-4&quot; style =&quot;width: 100%;&quot;&gt;&#10;                &lt;div class=&quot;card-header&quot;&gt;&lt;strong&gt;Commenti&lt;/strong&gt;&lt;/div&gt;&#10;                &lt;div class=&quot;card-body&quot; style=&quot;width: 100%;&quot;&gt;&#10;                    {% if is_utente and not auto.user_auto == user %}&#10;                        &lt;form method=&quot;post&quot; action=&quot;{% url 'Utente:crea_commento' %}&quot;&gt;&#10;                            {% csrf_token %}&#10;                            &lt;div class=&quot;mb-3&quot;&gt;&#10;                                &lt;textarea name=&quot;testo&quot; class=&quot;form-control&quot; rows=&quot;2&quot; placeholder=&quot;Scrivi un commento...&quot;&gt;&lt;/textarea&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;input type=&quot;hidden&quot; name=&quot;auto_id&quot; value=&quot;{{ auto.pk }}&quot;&gt;&#10;                            &lt;button type=&quot;submit&quot; class=&quot;btn btn-outline-primary&quot;&gt;Invia commento&lt;/button&gt;&#10;                        &lt;/form&gt;&#10;                        &lt;hr&gt;&#10;                    {% endif %}&#10;                    {% for commento in auto.commenti.all %}&#10;                        &lt;div class=&quot;mb-3 border-bottom pb-2&quot;&gt;&#10;                            &lt;div&gt;&lt;strong&gt;{{ commento.user.username }}&lt;/strong&gt; &lt;span class=&quot;text-muted small&quot;&gt;{{ commento.data_creazione|date:'d/m/Y H:i' }}&lt;/span&gt;&lt;/div&gt;&#10;                            &lt;div&gt;{{ commento.testo }}&lt;/div&gt;&#10;                            &lt;div class=&quot;mt-2&quot;&gt;&#10;                                {% if user.is_authenticated and auto.user_auto == user %}&#10;                                    &lt;a href=&quot;#&quot; class=&quot;btn btn-sm btn-outline-secondary me-2&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#rispostaModal{{ commento.id }}&quot; onclick=&quot;event.stopPropagation();&quot;&gt;Rispondi&lt;/a&gt;&#10;                                {% endif %}&#10;                                {% if user.is_authenticated and not commento.user.concessionaria_profile %}&#10;                                    &lt;a href=&quot;{% url 'Utente:crea_segnalazione' %}?commento_id={{ commento.id }}&quot; class=&quot;btn btn-sm btn-outline-danger&quot;&gt;Segnala&lt;/a&gt;&#10;                                {% endif %}&#10;                            &lt;/div&gt;&#10;                            {% for risposta in commento.risposte.all %}&#10;                                &lt;div class=&quot;ms-4 mt-2 border-start ps-2&quot;&gt;&#10;                                    &lt;div&gt;&lt;strong&gt;{{ risposta.user.username }}&lt;/strong&gt; &lt;span class=&quot;text-muted small&quot;&gt;{{ risposta.data_creazione|date:'d/m/Y H:i' }}&lt;/span&gt;&lt;/div&gt;&#10;                                    &lt;div&gt;{{ risposta.testo }}&lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            {% endfor %}&#10;                            {% if user.is_authenticated and auto.user_auto == user %}&#10;                            &lt;div class=&quot;ms-4 mt-2&quot;&gt;&#10;                                &lt;form class=&quot;ajax-risposta-form&quot; data-commento-id=&quot;{{ commento.id }}&quot; method=&quot;post&quot; action=&quot;{% url 'Utente:crea_risposta' %}?commento_id={{ commento.id }}&quot; autocomplete=&quot;off&quot;&gt;&#10;                                    {% csrf_token %}&#10;                                    &lt;div class=&quot;input-group mb-2&quot;&gt;&#10;                                        &lt;textarea name=&quot;testo&quot; class=&quot;form-control&quot; rows=&quot;2&quot; placeholder=&quot;Scrivi una risposta...&quot; required style=&quot;resize: none;&quot;&gt;&lt;/textarea&gt;&#10;                                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-success ms-2&quot;&gt;Rispondi&lt;/button&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/form&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;script&gt;&#10;                              document.addEventListener('DOMContentLoaded', function() {&#10;                                var form = document.querySelector('.ajax-risposta-form[data-commento-id=&quot;{{ commento.id }}&quot;]');&#10;                                if(form) {&#10;                                  form.addEventListener('submit', function(e) {&#10;                                    e.preventDefault();&#10;                                    var formData = new FormData(form);&#10;                                    fetch(form.action, {&#10;                                      method: 'POST',&#10;                                      headers: {&#10;                                        'X-Requested-With': 'XMLHttpRequest',&#10;                                      },&#10;                                      body: formData&#10;                                    })&#10;                                    .then(response =&gt; response.json())&#10;                                    .then(data =&gt; {&#10;                                      if(data.success) {&#10;                                        var risposteContainer = form.parentNode.parentNode;&#10;                                        var rispostaHtml = `&lt;div class=\&quot;ms-4 mt-2 border-start ps-2\&quot;&gt;&lt;div&gt;&lt;strong&gt;${data.username}&lt;/strong&gt; &lt;span class=\&quot;text-muted small\&quot;&gt;${data.data_creazione}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;${data.testo}&lt;/div&gt;&lt;/div&gt;`;&#10;                                        risposteContainer.insertAdjacentHTML('beforeend', rispostaHtml);&#10;                                        form.reset();&#10;                                      } else {&#10;                                        alert('Errore: ' + (data.error || 'Impossibile salvare la risposta.'));&#10;                                      }&#10;                                    })&#10;                                    .catch(() =&gt; alert('Errore di rete.'));&#10;                                  });&#10;                                }&#10;                              });&#10;                            &lt;/script&gt;&#10;                            {% endif %}&#10;                        &lt;/div&gt;&#10;                    {% empty %}&#10;                        &lt;div class=&quot;text-muted&quot;&gt;Nessun commento presente.&lt;/div&gt;&#10;                    {% endfor %}&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            {# BOTTONE STICKY #}&#10;            &lt;a href=&quot;{% url 'Auto:user_autos' %}&quot; class=&quot;btn btn-secondary position-fixed&quot; style=&quot;bottom: 30px; right: 30px; z-index: 9999;&quot;&gt;Torna alla schermata dei veicoli&lt;/a&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&lt;/div&gt;&#10;{% endblock %}&#10;" />
              <option name="updatedContent" value="{% extends 'base.html' %}&#10;{% block content %}&#10;&lt;div class=&quot;container-fluid py-5&quot; style=&quot;width:100%;&quot;&gt;&#10;    &lt;div class=&quot;row justify-content-center&quot;&gt;&#10;        &lt;div class=&quot;col-12 col-xl-12 col-xxl-11&quot; style=&quot;max-width: 1200px; padding-left: 150px; padding-right: 150px; width: 100%;&quot;&gt;&#10;            {# ALERT STATO AUTO #}&#10;            {% if auto.disponibilita == 3 %}&#10;                &lt;div class=&quot;alert alert-danger text-center&quot; role=&quot;alert&quot;&gt;Auto attualmente in contrattazione&lt;/div&gt;&#10;            {% elif auto.disponibilita == 1 %}&#10;                &lt;div class=&quot;alert alert-danger text-center&quot; role=&quot;alert&quot;&gt;Auto attualmente affittata&lt;/div&gt;&#10;            {% elif auto.disponibilita == 6 %}&#10;                &lt;div class=&quot;alert alert-danger text-center&quot; role=&quot;alert&quot;&gt;Auto attualmente prenotata&lt;/div&gt;&#10;            {% endif %}&#10;            &lt;div class=&quot;card shadow-lg border-0 rounded-4&quot; style=&quot;margin-top: 20px; margin-bottom: 20px; width: 150%; margin-left: -25%;&quot;&gt;&#10;                &lt;div class=&quot;row g-0&quot;&gt;&#10;                    {% if auto.immagine %}&#10;                    &lt;div class=&quot;col-md-5 d-flex align-items-center justify-content-center p-3&quot;&gt;&#10;                        &lt;img src=&quot;{{ auto.immagine.url }}&quot; class=&quot;img-fluid rounded-4 w-100&quot; alt=&quot;{{ auto.marca }} {{ auto.modello }}&quot;&gt;&#10;                    &lt;/div&gt;&#10;                    {% endif %}&#10;                    &lt;div class=&quot;col-md-7 p-4&quot;&gt;&#10;                        &lt;h2 class=&quot;fw-bold mb-3&quot;&gt;{{ auto.marca }} {{ auto.modello }}&lt;/h2&gt;&#10;                        &lt;ul class=&quot;list-group list-group-flush mb-3&quot;&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Anno:&lt;/strong&gt; {{ auto.anno }}&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Cilindrata:&lt;/strong&gt; {{ auto.cilindrata }} cc&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Carburante:&lt;/strong&gt; {{ auto.get_carburante_display }}&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Cambio:&lt;/strong&gt; {{ auto.get_cambio_display }}&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Trazione:&lt;/strong&gt; {{ auto.get_trazione_display }}&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Chilometraggio:&lt;/strong&gt; {{ auto.chilometraggio|default:'N/A' }} km&lt;/li&gt;&#10;                            &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Disponibilità:&lt;/strong&gt; {{ auto.get_disponibilita_display }}&lt;/li&gt;&#10;                        &lt;/ul&gt;&#10;                        {% if auto.descrizione %}&#10;                        &lt;div class=&quot;mb-3&quot;&gt;&#10;                            &lt;strong&gt;Descrizione:&lt;/strong&gt;&#10;                            &lt;p&gt;{{ auto.descrizione }}&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                        {% endif %}&#10;                        {# BOTTONI AZIONE #}&#10;                        &lt;div class=&quot;mb-3&quot;&gt;&#10;                            &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;&#10;                                {% csrf_token %}&#10;                                &lt;button type=&quot;button&quot; class=&quot;btn btn-success me-2&quot; {% if auto.disponibilita == 1 or auto.disponibilita == 3 or auto.disponibilita == 6 %}disabled{% endif %}&gt;Compra&lt;/button&gt;&#10;                                &lt;button type=&quot;button&quot; class=&quot;btn btn-primary me-2&quot; {% if auto.disponibilita == 1 or auto.disponibilita == 3 or auto.disponibilita == 6 %}disabled{% endif %}&gt;Affitta&lt;/button&gt;&#10;                                &lt;button type=&quot;button&quot; class=&quot;btn btn-warning me-2&quot; {% if auto.disponibilita == 1 or auto.disponibilita == 3 or auto.disponibilita == 6 %}disabled{% endif %}&gt;Prenota&lt;/button&gt;&#10;                                &lt;button type=&quot;button&quot; class=&quot;btn btn-info me-2&quot; {% if auto.disponibilita == 1 or auto.disponibilita == 3 or auto.disponibilita == 6 %}disabled{% endif %}&gt;Contratta&lt;/button&gt;&#10;                            &lt;/form&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            {# SEZIONE COMMENTI #}&#10;            &lt;div class=&quot;card mt-4&quot; style =&quot;width: 100%;&quot;&gt;&#10;                &lt;div class=&quot;card-header&quot;&gt;&lt;strong&gt;Commenti&lt;/strong&gt;&lt;/div&gt;&#10;                &lt;div class=&quot;card-body&quot; style=&quot;width: 100%;&quot;&gt;&#10;                    {% if is_utente and not auto.user_auto == user %}&#10;                        &lt;form method=&quot;post&quot; action=&quot;{% url 'Utente:crea_commento' %}&quot;&gt;&#10;                            {% csrf_token %}&#10;                            &lt;div class=&quot;mb-3&quot;&gt;&#10;                                &lt;textarea name=&quot;testo&quot; class=&quot;form-control&quot; rows=&quot;2&quot; placeholder=&quot;Scrivi un commento...&quot;&gt;&lt;/textarea&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;input type=&quot;hidden&quot; name=&quot;auto_id&quot; value=&quot;{{ auto.pk }}&quot;&gt;&#10;                            &lt;button type=&quot;submit&quot; class=&quot;btn btn-outline-primary&quot;&gt;Invia commento&lt;/button&gt;&#10;                        &lt;/form&gt;&#10;                        &lt;hr&gt;&#10;                    {% endif %}&#10;                    {% for commento in auto.commenti.all %}&#10;                        &lt;div class=&quot;mb-3 border-bottom pb-2&quot;&gt;&#10;                            &lt;div&gt;&lt;strong&gt;{{ commento.user.username }}&lt;/strong&gt; &lt;span class=&quot;text-muted small&quot;&gt;{{ commento.data_creazione|date:'d/m/Y H:i' }}&lt;/span&gt;&lt;/div&gt;&#10;                            &lt;div&gt;{{ commento.testo }}&lt;/div&gt;&#10;                            &lt;div class=&quot;mt-2&quot;&gt;&#10;                                {% if user.is_authenticated and auto.user_auto == user %}&#10;                                    &lt;a href=&quot;#&quot; class=&quot;btn btn-sm btn-outline-secondary me-2&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#rispostaModal{{ commento.id }}&quot; onclick=&quot;event.stopPropagation();&quot;&gt;Rispondi&lt;/a&gt;&#10;                                {% endif %}&#10;                                {% if user.is_authenticated and not commento.user.concessionaria_profile %}&#10;                                    &lt;a href=&quot;{% url 'Utente:crea_segnalazione' %}?commento_id={{ commento.id }}&quot; class=&quot;btn btn-sm btn-outline-danger&quot;&gt;Segnala&lt;/a&gt;&#10;                                {% endif %}&#10;                            &lt;/div&gt;&#10;                            {% for risposta in commento.risposte.all %}&#10;                                &lt;div class=&quot;ms-4 mt-2 border-start ps-2&quot;&gt;&#10;                                    &lt;div&gt;&lt;strong&gt;{{ risposta.user.username }}&lt;/strong&gt; &lt;span class=&quot;text-muted small&quot;&gt;{{ risposta.data_creazione|date:'d/m/Y H:i' }}&lt;/span&gt;&lt;/div&gt;&#10;                                    &lt;div&gt;{{ risposta.testo }}&lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            {% endfor %}&#10;                            {% if user.is_authenticated and auto.user_auto == user %}&#10;                            &lt;div class=&quot;ms-4 mt-2&quot;&gt;&#10;                                &lt;form class=&quot;ajax-risposta-form&quot; data-commento-id=&quot;{{ commento.id }}&quot; method=&quot;post&quot; action=&quot;{% url 'Utente:crea_risposta' %}?commento_id={{ commento.id }}&quot; autocomplete=&quot;off&quot;&gt;&#10;                                    {% csrf_token %}&#10;                                    &lt;div class=&quot;input-group mb-2&quot;&gt;&#10;                                        &lt;textarea name=&quot;testo&quot; class=&quot;form-control&quot; rows=&quot;2&quot; placeholder=&quot;Scrivi una risposta...&quot; required style=&quot;resize: none;&quot;&gt;&lt;/textarea&gt;&#10;                                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-success ms-2&quot;&gt;Rispondi&lt;/button&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/form&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;script&gt;&#10;                              document.addEventListener('DOMContentLoaded', function() {&#10;                                var form = document.querySelector('.ajax-risposta-form[data-commento-id=&quot;{{ commento.id }}&quot;]');&#10;                                if(form) {&#10;                                  form.addEventListener('submit', function(e) {&#10;                                    e.preventDefault();&#10;                                    var formData = new FormData(form);&#10;                                    fetch(form.action, {&#10;                                      method: 'POST',&#10;                                      headers: {&#10;                                        'X-Requested-With': 'XMLHttpRequest',&#10;                                      },&#10;                                      body: formData&#10;                                    })&#10;                                    .then(response =&gt; response.json())&#10;                                    .then(data =&gt; {&#10;                                      if(data.success) {&#10;                                        var risposteContainer = form.parentNode.parentNode;&#10;                                        var rispostaHtml = `&lt;div class=\&quot;ms-4 mt-2 border-start ps-2\&quot;&gt;&lt;div&gt;&lt;strong&gt;${data.username}&lt;/strong&gt; &lt;span class=\&quot;text-muted small\&quot;&gt;${data.data_creazione}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;${data.testo}&lt;/div&gt;&lt;/div&gt;`;&#10;                                        risposteContainer.insertAdjacentHTML('beforeend', rispostaHtml);&#10;                                        form.reset();&#10;                                      } else {&#10;                                        alert('Errore: ' + (data.error || 'Impossibile salvare la risposta.'));&#10;                                      }&#10;                                    })&#10;                                    .catch(() =&gt; alert('Errore di rete.'));&#10;                                  });&#10;                                }&#10;                              });&#10;                            &lt;/script&gt;&#10;                            {% endif %}&#10;                        &lt;/div&gt;&#10;                    {% empty %}&#10;                        &lt;div class=&quot;text-muted&quot;&gt;Nessun commento presente.&lt;/div&gt;&#10;                    {% endfor %}&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            {# BOTTONE STICKY #}&#10;            &lt;a href=&quot;{% url 'Auto:user_autos' %}&quot; class=&quot;btn btn-secondary position-fixed&quot; style=&quot;bottom: 30px; right: 30px; z-index: 9999;&quot;&gt;Torna alla schermata dei veicoli&lt;/a&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&lt;/div&gt;&#10;{% endblock %}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Autosaloon_Modena/templates/Autosalone/home.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Autosaloon_Modena/templates/Autosalone/home.html" />
              <option name="originalContent" value="{% load static %}&#10;&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;it&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Concessionaria - Home&lt;/title&gt;&#10;    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;{% static 'favicon.png' %}&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static 'css/bootstrap.min.css' %}&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static 'css/home_custom.css' %}&quot;&gt;&#10;    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Pacifico&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;&#10;&#10;    &lt;style&gt;&#10;        html, body {&#10;            height: 100%;&#10;        }&#10;        body {&#10;            min-height: 100vh;&#10;            display: flex;&#10;            flex-direction: column;&#10;            background-color: darkblue;&#10;        }&#10;        main {&#10;            flex: 1;&#10;        }&#10;        .am-logo-favicon {&#10;            font-family: 'Pacifico', cursive;&#10;            font-size: 2.1rem;&#10;            font-weight: bold;&#10;            color: #2563eb;&#10;            background: white;&#10;            border-radius: 50%;&#10;            width: 2.6rem;&#10;            height: 2.6rem;&#10;            display: flex;&#10;            align-items: center;&#10;            justify-content: center;&#10;            box-shadow: 0 2px 8px #2563eb33;&#10;            position: absolute;&#10;            left: 0.7rem;&#10;            top: 0.7rem;&#10;            z-index: 1000;&#10;        }&#10;        @media (max-width: 600px) {&#10;            .am-logo-favicon { font-size: 1.3rem; width: 1.7rem; height: 1.7rem; }&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;&#10;    &lt;header&gt;&#10;        &lt;div class=&quot;header-custom d-flex justify-content-between align-items-center px-4 py-2&quot; style=&quot;gap: 24px; background-color: darkblue;&quot;&gt;&#10;            &lt;h1 class=&quot;header-title&quot; style=&quot;font-family: 'Pacifico', cursive; font-size:2.7rem; font-weight:900; letter-spacing:2px; color:#fff; text-shadow:2px 2px 8px #1e3a8a, 0 0 12px #2563eb; margin:0;&quot;&gt;&#10;                Autosaloon&lt;span style=&quot;color:#2563eb;&quot;&gt;Modena&lt;/span&gt;&#10;            &lt;/h1&gt;&#10;&#10;            &lt;nav class=&quot;d-flex align-items-center&quot; style=&quot;gap: 24px; flex-wrap: nowrap;&quot;&gt;&#10;                {% if user.is_authenticated %}&#10;                    {% if is_concessionaria %}&#10;                        &lt;a href=&quot;{% url 'Auto:user_autos' %}&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-car-front&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#10;                                &lt;path d=&quot;M4 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm10 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z&quot;/&gt;&#10;                                &lt;path d=&quot;M16 8.5v-1c0-.966-.784-1.75-1.75-1.75h-.805l-.547-2.186A2.5 2.5 0 0 0 10.464 1H5.536a2.5 2.5 0 0 0-2.434 3.564l-.547 2.186h-.805A1.75 1.75 0 0 0 0 7.5v1c0 .456.154.877.414 1.215A2.5 2.5 0 0 0 2 13.5V14a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1h6v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-.5a2.5 2.5 0 0 0 1.586-3.785A1.75 1.75 0 0 0 16 8.5zM5.536 2h4.928a1.5 1.5 0 0 1 1.46 1.964l-.5 2H4.58l-.5-2A1.5 1.5 0 0 1 5.536 2zM1 7.5c0-.414.336-.75.75-.75h12.5c.414 0 .75.336.75.75v1a.75.75 0 0 1-.75.75H1.75A.75.75 0 0 1 1 8.5v-1zm1.5 5A1.5 1.5 0 0 1 1.5 11h13a1.5 1.5 0 0 1-1.5 1.5h-10z&quot;/&gt;&#10;                            &lt;/svg&gt;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Le mie Auto&lt;/span&gt;&#10;                        &lt;/a&gt;&#10;                        &lt;span style=&quot;width:16px;&quot;&gt;&lt;/span&gt;&#10;                        &lt;a href=&quot;#&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-key&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#10;                                &lt;path d=&quot;M3 8a5 5 0 1 1 9.584 2.5H15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-1v1a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-1H8.5A5 5 0 0 1 3 8zm5-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8z&quot;/&gt;&#10;                            &lt;/svg&gt;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Auto Affittate&lt;/span&gt;&#10;                        &lt;/a&gt;&#10;                        &lt;span style=&quot;width:16px;&quot;&gt;&lt;/span&gt;&#10;                        &lt;a href=&quot;#&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-calendar-check&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#10;                                &lt;path d=&quot;M10.854 8.146a.5.5 0 0 0-.708.708l1 1a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L11.5 8.793l-.646-.647z&quot;/&gt;&#10;                                &lt;path d=&quot;M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 3v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-1v.5a.5.5 0 0 1-1 0V2H4v.5a.5.5 0 0 1-1 0V2H2a1 1 0 0 0-1 1z&quot;/&gt;&#10;                            &lt;/svg&gt;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Auto Prenotate&lt;/span&gt;&#10;                        &lt;/a&gt;&#10;                        &lt;span style=&quot;width:16px;&quot;&gt;&lt;/span&gt;&#10;                        &lt;a href=&quot;#&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-handshake&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#10;                                &lt;path d=&quot;M8.354 1.646a.5.5 0 0 1 .707 0l5.293 5.293a.5.5 0 0 1 0 .707l-5.293 5.293a.5.5 0 0 1-.707 0L2.354 7.646a.5.5 0 0 1 0-.707L7.646 1.646a.5.5 0 0 1 .708 0z&quot;/&gt;&#10;                            &lt;/svg&gt;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Auto in Contrattazione&lt;/span&gt;&#10;                        &lt;/a&gt;&#10;                    {% elif is_user %}&#10;                        &lt;a href=&quot;{% url 'Auto:user_autos' %}&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-car-front&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#10;                                &lt;path d=&quot;M4 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm10 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z&quot;/&gt;&#10;                                &lt;path d=&quot;M16 8.5v-1c0-.966-.784-1.75-1.75-1.75h-.805l-.547-2.186A2.5 2.5 0 0 0 10.464 1H5.536a2.5 2.5 0 0 0-2.434 3.564l-.547 2.186h-.805A1.75 1.75 0 0 0 0 7.5v1c0 .456.154.877.414 1.215A2.5 2.5 0 0 0 2 13.5V14a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1h6v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-.5a2.5 2.5 0 0 0 1.586-3.785A1.75 1.75 0 0 0 16 8.5zM5.536 2h4.928a1.5 1.5 0 0 1 1.46 1.964l-.5 2H4.58l-.5-2A1.5 1.5 0 0 1 5.536 2zM1 7.5c0-.414.336-.75.75-.75h12.5c.414 0 .75.336.75.75v1a.75.75 0 0 1-.75.75H1.75A.75.75 0 0 1 1 8.5v-1zm1.5 5A1.5 1.5 0 0 1 1.5 11h13a1.5 1.5 0 0 1-1.5 1.5h-10z&quot;/&gt;&#10;                            &lt;/svg&gt;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Le mie Auto&lt;/span&gt;&#10;                        &lt;/a&gt;&#10;                        &lt;span style=&quot;width:16px;&quot;&gt;&lt;/span&gt;&#10;                        &lt;a href=&quot;#&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-calendar-check&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#10;                                &lt;path d=&quot;M10.854 8.146a.5.5 0 0 0-.708.708l1 1a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L11.5 8.793l-.646-.647z&quot;/&gt;&#10;                                &lt;path d=&quot;M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 3v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-1v.5a.5.5 0 0 1-1 0V2H4v.5a.5.5 0 0 1-1 0V2H2a1 1 0 0 0-1 1z&quot;/&gt;&#10;                            &lt;/svg&gt;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Auto Affittate/Prenotate&lt;/span&gt;&#10;                        &lt;/a&gt;&#10;                    {% endif %}&#10;                {% endif %}&#10;                {% if user.is_authenticated %}&#10;                    &lt;div class=&quot;dropdown&quot;&gt;&#10;                        &lt;a href=&quot;#&quot; class=&quot;btn btn-link btn-sm text-white fw-bold text-decoration-none dropdown-toggle&quot; id=&quot;profileDropdown&quot; data-bs-toggle=&quot;dropdown&quot; aria-expanded=&quot;false&quot;&gt;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-person-circle&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#10;                                &lt;path d=&quot;M13.468 12.37C12.758 11.226 11.383 10.5 8 10.5c-3.383 0-4.758.726-5.468 1.87A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z&quot;/&gt;&#10;                                &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm5-3a5 5 0 1 1-10 0 5 5 0 0 1 10 0z&quot;/&gt;&#10;                            &lt;/svg&gt;&#10;                        &lt;/a&gt;&#10;                        &lt;ul class=&quot;dropdown-menu dropdown-menu-end&quot; aria-labelledby=&quot;profileDropdown&quot;&gt;&#10;                            &lt;li&gt;&#10;                                {% if is_user %}&#10;                                    &lt;a class=&quot;dropdown-item d-flex align-items-center&quot; href=&quot;{% url 'Utente:impostazioni_utente' %}&quot;&gt;&#10;                                {% elif is_concessionaria %}&#10;                                    &lt;a class=&quot;dropdown-item d-flex align-items-center&quot; href=&quot;{% url 'Concessionaria:impostazioni_concessionaria' %}&quot;&gt;&#10;                                {% else %}&#10;                                    &lt;a class=&quot;dropdown-item d-flex align-items-center&quot; href=&quot;#&quot;&gt;&#10;                                {% endif %}&#10;                                        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;20&quot; height=&quot;20&quot; fill=&quot;darkblue&quot; class=&quot;bi bi-gear me-2&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#10;                                            &lt;path d=&quot;M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z&quot;/&gt;&#10;                                            &lt;path d=&quot;M9.796 1.343c-.527-1.013-1.065-1.012-1.592 0l-.094.187a1.319 1.319 0 0 1-1.255.83c-1.07.09-1.342.507-1.342 1.23v.272c0 .723.272 1.14 1.342 1.23.52.044.98.316 1.255.83l.094.187c.527 1.013 1.065 1.012 1.592 0l.094-.187a1.319 1.319 0 0 1 1.255-.83c1.07-.09 1.342-.507 1.342-1.23v-.272c0-.723-.272-1.14-1.342-1.23a1.319 1.319 0 0 1-1.255-.83l-.094-.187zm-2.633.283c.246-.492.532-.492.778 0l.094.187a2.319 2.319 0 0 0 2.21 1.46c.723.09.995.507.995 1.23v.272c0 .723-.272 1.14-.995 1.23a2.319 2.319 0 0 0-2.21 1.46l-.094.187c-.246.492-.532.492-.778 0l-.094-.187a2.319 2.319 0 0 0-2.21-1.46c-.723-.09-.995-.507-.995-1.23v-.272c0-.723.272-1.14.995-1.23a2.319 2.319 0 0 0 2.21-1.46l.094-.187z&quot;/&gt;&#10;                                        &lt;/svg&gt;&#10;                                        Impostazioni&#10;                                    &lt;/a&gt;&#10;                            &lt;/li&gt;&#10;                            &lt;li&gt;&#10;                                &lt;form method=&quot;post&quot; action=&quot;{% url 'logout' %}&quot; style=&quot;display: inline;&quot;&gt;&#10;                                    {% csrf_token %}&#10;                                    &lt;button type=&quot;submit&quot; class=&quot;dropdown-item d-flex align-items-center&quot;&gt;&#10;                                        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;20&quot; height=&quot;20&quot; fill=&quot;darkblue&quot; class=&quot;bi bi-box-arrow-right me-2&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#10;                                            &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M6 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2a.5.5 0 0 1 1 0v2h6V3H7v2a.5.5 0 0 1-1 0V3z&quot;/&gt;&#10;                                            &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z&quot;/&gt;&#10;                                        &lt;/svg&gt;&#10;                                        Disconnetti&#10;                                    &lt;/button&gt;&#10;                                &lt;/form&gt;&#10;                            &lt;/li&gt;&#10;                        &lt;/ul&gt;&#10;                    &lt;/div&gt;&#10;                {% else %}&#10;                    &lt;div class=&quot;d-flex align-items-center&quot; style=&quot;gap: 12px;&quot;&gt;&#10;                        &lt;a href=&quot;{% url 'login' %}&quot; class=&quot;btn btn-link btn-sm text-white fw-bold text-decoration-none&quot; style=&quot;color: white&quot;&gt;Accedi&lt;/a&gt;&#10;                        &lt;a href=&quot;{% url 'register' %}&quot; class=&quot;btn btn-link btn-sm text-white fw-bold text-decoration-none&quot; style=&quot;color: white&quot;&gt;Registrati&lt;/a&gt;&#10;                    &lt;/div&gt;&#10;                {% endif %}&#10;            &lt;/nav&gt;&#10;        &lt;/div&gt;&#10;    &lt;/header&gt;&#10;    &lt;main class=&quot;container-fluid mt-4 d-flex flex-column align-items-center justify-content-center&quot;&gt;&#10;        &lt;aside class=&quot;d-flex align-items-center justify-content-center w-100&quot; style=&quot;min-height: 1px;&quot;&gt;&#10;            &lt;div class=&quot;filter-section shadow-lg p-4 rounded-5 border-0 bg-white&quot; style=&quot;min-width:420px;max-width:900px;width:100%;&quot;&gt;&#10;                &lt;form method=&quot;get&quot;&gt;&#10;                    &lt;div class=&quot;row g-3 filter-grid&quot;&gt;&#10;                        {% for field in filter.form.visible_fields %}&#10;                            {% if field.name == 'disponibilita' %}&#10;                                &lt;div class=&quot;col filter-col&quot;&gt;&#10;                                    &lt;label for=&quot;{{ field.id_for_label }}&quot; class=&quot;form-label filter-label&quot;&gt;Disponibilità&lt;/label&gt;&#10;                                    {{ field }}&#10;                                &lt;/div&gt;&#10;                            {% else %}&#10;                                &lt;div class=&quot;col filter-col&quot;&gt;&#10;                                    &lt;label for=&quot;{{ field.id_for_label }}&quot; class=&quot;form-label filter-label&quot;&gt;{{ field.label }}&lt;/label&gt;&#10;                                    {{ field }}&#10;                                &lt;/div&gt;&#10;                            {% endif %}&#10;                        {% endfor %}&#10;                    &lt;/div&gt;&#10;                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-custom w-100 mt-4 py-3 fs-5 shadow-sm&quot;&gt;Applica filtri&lt;/button&gt;&#10;                &lt;/form&gt;&#10;            &lt;/div&gt;&#10;        &lt;/aside&gt;&#10;        &lt;section class=&quot;col-lg-9 col-md-8 col-12&quot;&gt;&#10;            &lt;div class=&quot;car-list&quot;&gt;&#10;                &lt;div class=&quot;card-list&quot;&gt;&#10;                    {% for car in cars_page %}&#10;                    &lt;div class=&quot;card&quot;&gt;&#10;                        {% if car.immagine %}&#10;                            &lt;img src=&quot;{{ car.immagine.url }}&quot; class=&quot;card-img-top&quot; alt=&quot;{{ car.nome }}&quot;&gt;&#10;                        {% endif %}&#10;                        &lt;div class=&quot;card-body&quot;&gt;&#10;                            &lt;h5 class=&quot;card-title&quot;&gt;{{ car.marca }} {{ car.modello }}&lt;/h5&gt;&#10;                            &lt;p class=&quot;card-text&quot;&gt;Anno: {{ car.anno }}&lt;br&gt;&#10;                                {% with vendita=car.vendita.first %}&#10;                                    {% if vendita %}&#10;                                        Prezzo: €{{ vendita.prezzo_vendita }}&lt;br&gt;&#10;                                    {% endif %}&#10;                                {% endwith %}&#10;                                {% with affitto=car.affitto.first %}&#10;                                    {% if affitto %}&#10;                                        Prezzo Noleggio: €{{ affitto.prezzo_affitto }}/giorno&lt;br&gt;&#10;                                    {% endif %}&#10;                                {% endwith %}&#10;                            &lt;/p&gt;&#10;                            &lt;a href=&quot;{% url 'Auto:auto-detail' pk=car.id %}?next={{ request.get_full_path }}&quot; class=&quot;btn btn-custom&quot;&gt;Dettagli&lt;/a&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    {% endfor %}&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/section&gt;&#10;    &lt;/main&gt;&#10;    &lt;!-- Nuovo paginator orizzontale, centrato, senza pallini --&gt;&#10;    &lt;nav aria-label=&quot;Paginazione auto&quot; class=&quot;my-5&quot;&gt;&#10;        &lt;div class=&quot;d-flex justify-content-center&quot;&gt;&#10;            &lt;ul class=&quot;paginator-ul&quot;&gt;&#10;                {% if cars_page.has_previous %}&#10;                &lt;li&gt;&#10;                    &lt;a class=&quot;paginator-link&quot; href=&quot;?page={{ cars_page.previous_page_number }}&quot; aria-label=&quot;Pagina precedente&quot;&gt;&#10;                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;&#10;                    &lt;/a&gt;&#10;                &lt;/li&gt;&#10;                {% endif %}&#10;                {% for num in cars_page.paginator.page_range %}&#10;                &lt;li&gt;&#10;                    &lt;a class=&quot;paginator-link {% if cars_page.number == num %}paginator-link-active{% endif %}&quot; href=&quot;?page={{ num }}&quot;&gt;{{ num }}&lt;/a&gt;&#10;                &lt;/li&gt;&#10;                {% endfor %}&#10;                {% if cars_page.has_next %}&#10;                &lt;li&gt;&#10;                    &lt;a class=&quot;paginator-link&quot; href=&quot;?page={{ cars_page.next_page_number }}&quot; aria-label=&quot;Pagina successiva&quot;&gt;&#10;                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;&#10;                    &lt;/a&gt;&#10;                &lt;/li&gt;&#10;                {% endif %}&#10;            &lt;/ul&gt;&#10;        &lt;/div&gt;&#10;    &lt;/nav&gt;&#10;    &lt;footer&gt;&#10;        &lt;div style=&quot;text-align:center;&quot;&gt;&#10;            &lt;div style=&quot;margin-bottom: 10px;&quot;&gt;&#10;                &lt;a href=&quot;https://facebook.com&quot; target=&quot;_blank&quot; style=&quot;margin:0 8px;display:inline-block;&quot;&gt;&#10;                    &lt;img src=&quot;https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg&quot; alt=&quot;Facebook&quot; style=&quot;width:32px;height:32px;filter:grayscale(1);&quot;&gt;&#10;                &lt;/a&gt;&#10;                &lt;a href=&quot;https://wa.me/&quot; target=&quot;_blank&quot; style=&quot;margin:0 8px;display:inline-block;&quot;&gt;&#10;                    &lt;img src=&quot;https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/whatsapp.svg&quot; alt=&quot;WhatsApp&quot; style=&quot;width:32px;height:32px;filter:grayscale(1);&quot;&gt;&#10;                &lt;/a&gt;&#10;                &lt;a href=&quot;https://instagram.com&quot; target=&quot;_blank&quot; style=&quot;margin:0 8px;display:inline-block;&quot;&gt;&#10;                    &lt;img src=&quot;https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg&quot; alt=&quot;Instagram&quot; style=&quot;width:32px;height:32px;filter:grayscale(1);&quot;&gt;&#10;                &lt;/a&gt;&#10;                &lt;a href=&quot;mailto:info@autosaloonmodena.it&quot; target=&quot;_blank&quot; style=&quot;margin:0 8px;display:inline-block;&quot;&gt;&#10;                    &lt;img src=&quot;https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/gmail.svg&quot; alt=&quot;Gmail&quot; style=&quot;width:32px;height:32px;filter:grayscale(1);&quot;&gt;&#10;                &lt;/a&gt;&#10;                &lt;a href=&quot;https://linkedin.com&quot; target=&quot;_blank&quot; style=&quot;margin:0 8px;display:inline-block;&quot;&gt;&#10;                    &lt;img src=&quot;https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg&quot; alt=&quot;LinkedIn&quot; style=&quot;width:32px;height:32px;filter:grayscale(1);&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/div&gt;&#10;            &lt;p&gt;&#10;                Copyright © 2025 AutoSalonModena S.p.A., società ad azionista unico sottoposta a direzione e coordinamento da parte della MutinaAutoSalon.&lt;br&gt;&#10;                Tutti i diritti riservati. P.IVA n. ???????????&#10;            &lt;/p&gt;&#10;        &lt;/div&gt;&#10;    &lt;/footer&gt;&#10;&lt;script src=&quot;{% static 'bootstrap/js/bootstrap.bundle.min.js' %}&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
              <option name="updatedContent" value="{% load static %}&#13;&#10;&lt;!DOCTYPE html&gt;&#13;&#10;&lt;html lang=&quot;it&quot;&gt;&#13;&#10;&lt;head&gt;&#13;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#13;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#13;&#10;    &lt;title&gt;Concessionaria - Home&lt;/title&gt;&#13;&#10;    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;{% static 'favicon.png' %}&quot;&gt;&#13;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static 'css/bootstrap.min.css' %}&quot;&gt;&#13;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static 'css/home_custom.css' %}&quot;&gt;&#13;&#10;    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Pacifico&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;&#13;&#10;&#13;&#10;    &lt;style&gt;&#13;&#10;        html, body {&#13;&#10;            height: 100%;&#13;&#10;        }&#13;&#10;        body {&#13;&#10;            min-height: 100vh;&#13;&#10;            display: flex;&#13;&#10;            flex-direction: column;&#13;&#10;            background-color: darkblue;&#13;&#10;        }&#13;&#10;        main {&#13;&#10;            flex: 1;&#13;&#10;        }&#13;&#10;        .am-logo-favicon {&#13;&#10;            font-family: 'Pacifico', cursive;&#13;&#10;            font-size: 2.1rem;&#13;&#10;            font-weight: bold;&#13;&#10;            color: #2563eb;&#13;&#10;            background: white;&#13;&#10;            border-radius: 50%;&#13;&#10;            width: 2.6rem;&#13;&#10;            height: 2.6rem;&#13;&#10;            display: flex;&#13;&#10;            align-items: center;&#13;&#10;            justify-content: center;&#13;&#10;            box-shadow: 0 2px 8px #2563eb33;&#13;&#10;            position: absolute;&#13;&#10;            left: 0.7rem;&#13;&#10;            top: 0.7rem;&#13;&#10;            z-index: 1000;&#13;&#10;        }&#13;&#10;        @media (max-width: 600px) {&#13;&#10;            .am-logo-favicon { font-size: 1.3rem; width: 1.7rem; height: 1.7rem; }&#13;&#10;        }&#13;&#10;    &lt;/style&gt;&#13;&#10;&lt;/head&gt;&#13;&#10;&lt;body&gt;&#13;&#10;&#13;&#10;    &lt;header&gt;&#13;&#10;        &lt;div class=&quot;header-custom d-flex justify-content-between align-items-center px-4 py-2&quot; style=&quot;gap: 24px; background-color: darkblue;&quot;&gt;&#13;&#10;            &lt;h1 class=&quot;header-title&quot; style=&quot;font-family: 'Pacifico', cursive; font-size:2.7rem; font-weight:900; letter-spacing:2px; color:#fff; text-shadow:2px 2px 8px #1e3a8a, 0 0 12px #2563eb; margin:0;&quot;&gt;&#13;&#10;                Autosaloon&lt;span style=&quot;color:#2563eb;&quot;&gt;Modena&lt;/span&gt;&#13;&#10;            &lt;/h1&gt;&#13;&#10;&#13;&#10;            &lt;nav class=&quot;d-flex align-items-center&quot; style=&quot;gap: 24px; flex-wrap: nowrap;&quot;&gt;&#13;&#10;                {% if user.is_authenticated %}&#13;&#10;                    {% if is_concessionaria %}&#13;&#10;                        &lt;a href=&quot;{% url 'Auto:user_autos' %}&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#13;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-car-front&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#13;&#10;                                &lt;path d=&quot;M4 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm10 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z&quot;/&gt;&#13;&#10;                                &lt;path d=&quot;M16 8.5v-1c0-.966-.784-1.75-1.75-1.75h-.805l-.547-2.186A2.5 2.5 0 0 0 10.464 1H5.536a2.5 2.5 0 0 0-2.434 3.564l-.547 2.186h-.805A1.75 1.75 0 0 0 0 7.5v1c0 .456.154.877.414 1.215A2.5 2.5 0 0 0 2 13.5V14a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1h6v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-.5a2.5 2.5 0 0 0 1.586-3.785A1.75 1.75 0 0 0 16 8.5zM5.536 2h4.928a1.5 1.5 0 0 1 1.46 1.964l-.5 2H4.58l-.5-2A1.5 1.5 0 0 1 5.536 2zM1 7.5c0-.414.336-.75.75-.75h12.5c.414 0 .75.336.75.75v1a.75.75 0 0 1-.75.75H1.75A.75.75 0 0 1 1 8.5v-1zm1.5 5A1.5 1.5 0 0 1 1.5 11h13a1.5 1.5 0 0 1-1.5 1.5h-10z&quot;/&gt;&#13;&#10;                            &lt;/svg&gt;&#13;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Le mie Auto&lt;/span&gt;&#13;&#10;                        &lt;/a&gt;&#13;&#10;                        &lt;span style=&quot;width:16px;&quot;&gt;&lt;/span&gt;&#13;&#10;                        &lt;a href=&quot;#&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#13;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-key&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#13;&#10;                                &lt;path d=&quot;M3 8a5 5 0 1 1 9.584 2.5H15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-1v1a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-1H8.5A5 5 0 0 1 3 8zm5-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8z&quot;/&gt;&#13;&#10;                            &lt;/svg&gt;&#13;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Auto Affittate&lt;/span&gt;&#13;&#10;                        &lt;/a&gt;&#13;&#10;                        &lt;span style=&quot;width:16px;&quot;&gt;&lt;/span&gt;&#13;&#10;                        &lt;a href=&quot;#&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#13;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-calendar-check&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#13;&#10;                                &lt;path d=&quot;M10.854 8.146a.5.5 0 0 0-.708.708l1 1a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L11.5 8.793l-.646-.647z&quot;/&gt;&#13;&#10;                                &lt;path d=&quot;M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 3v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-1v.5a.5.5 0 0 1-1 0V2H4v.5a.5.5 0 0 1-1 0V2H2a1 1 0 0 0-1 1z&quot;/&gt;&#13;&#10;                            &lt;/svg&gt;&#13;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Auto Prenotate&lt;/span&gt;&#13;&#10;                        &lt;/a&gt;&#13;&#10;                        &lt;span style=&quot;width:16px;&quot;&gt;&lt;/span&gt;&#13;&#10;                        &lt;a href=&quot;#&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#13;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-handshake&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#13;&#10;                                &lt;path d=&quot;M8.354 1.646a.5.5 0 0 1 .707 0l5.293 5.293a.5.5 0 0 1 0 .707l-5.293 5.293a.5.5 0 0 1-.707 0L2.354 7.646a.5.5 0 0 1 0-.707L7.646 1.646a.5.5 0 0 1 .708 0z&quot;/&gt;&#13;&#10;                            &lt;/svg&gt;&#13;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Auto in Contrattazione&lt;/span&gt;&#13;&#10;                        &lt;/a&gt;&#13;&#10;                    {% elif is_user %}&#13;&#10;                        &lt;a href=&quot;{% url 'Auto:user_autos' %}&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#13;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-car-front&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#13;&#10;                                &lt;path d=&quot;M4 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm10 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z&quot;/&gt;&#13;&#10;                                &lt;path d=&quot;M16 8.5v-1c0-.966-.784-1.75-1.75-1.75h-.805l-.547-2.186A2.5 2.5 0 0 0 10.464 1H5.536a2.5 2.5 0 0 0-2.434 3.564l-.547 2.186h-.805A1.75 1.75 0 0 0 0 7.5v1c0 .456.154.877.414 1.215A2.5 2.5 0 0 0 2 13.5V14a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1h6v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-.5a2.5 2.5 0 0 0 1.586-3.785A1.75 1.75 0 0 0 16 8.5zM5.536 2h4.928a1.5 1.5 0 0 1 1.46 1.964l-.5 2H4.58l-.5-2A1.5 1.5 0 0 1 5.536 2zM1 7.5c0-.414.336-.75.75-.75h12.5c.414 0 .75.336.75.75v1a.75.75 0 0 1-.75.75H1.75A.75.75 0 0 1 1 8.5v-1zm1.5 5A1.5 1.5 0 0 1 1.5 11h13a1.5 1.5 0 0 1-1.5 1.5h-10z&quot;/&gt;&#13;&#10;                            &lt;/svg&gt;&#13;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Le mie Auto&lt;/span&gt;&#13;&#10;                        &lt;/a&gt;&#13;&#10;                        &lt;span style=&quot;width:16px;&quot;&gt;&lt;/span&gt;&#13;&#10;                        &lt;a href=&quot;#&quot; class=&quot;btn btn-outline-light btn-sm d-flex flex-column align-items-center justify-content-center&quot; style=&quot;width:70px; height:70px; border-radius:16px;&quot;&gt;&#13;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-calendar-check&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#13;&#10;                                &lt;path d=&quot;M10.854 8.146a.5.5 0 0 0-.708.708l1 1a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L11.5 8.793l-.646-.647z&quot;/&gt;&#13;&#10;                                &lt;path d=&quot;M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 3v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-1v.5a.5.5 0 0 1-1 0V2H4v.5a.5.5 0 0 1-1 0V2H2a1 1 0 0 0-1 1z&quot;/&gt;&#13;&#10;                            &lt;/svg&gt;&#13;&#10;                            &lt;span style=&quot;font-size:0.85rem; color: #fff;&quot;&gt;Auto Affittate/Prenotate&lt;/span&gt;&#13;&#10;                        &lt;/a&gt;&#13;&#10;                    {% endif %}&#13;&#10;                {% endif %}&#13;&#10;                {% if user.is_authenticated %}&#13;&#10;                    &lt;div class=&quot;dropdown&quot;&gt;&#13;&#10;                        &lt;a href=&quot;#&quot; class=&quot;btn btn-link btn-sm text-white fw-bold text-decoration-none dropdown-toggle&quot; id=&quot;profileDropdown&quot; data-bs-toggle=&quot;dropdown&quot; aria-expanded=&quot;false&quot;&gt;&#13;&#10;                            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;32&quot; height=&quot;32&quot; fill=&quot;#fff&quot; class=&quot;bi bi-person-circle&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#13;&#10;                                &lt;path d=&quot;M13.468 12.37C12.758 11.226 11.383 10.5 8 10.5c-3.383 0-4.758.726-5.468 1.87A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z&quot;/&gt;&#13;&#10;                                &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm5-3a5 5 0 1 1-10 0 5 5 0 0 1 10 0z&quot;/&gt;&#13;&#10;                            &lt;/svg&gt;&#13;&#10;                        &lt;/a&gt;&#13;&#10;                        &lt;ul class=&quot;dropdown-menu dropdown-menu-end&quot; aria-labelledby=&quot;profileDropdown&quot;&gt;&#13;&#10;                            &lt;li&gt;&#13;&#10;                                {% if is_user %}&#13;&#10;                                    &lt;a class=&quot;dropdown-item d-flex align-items-center&quot; href=&quot;{% url 'Utente:impostazioni_utente' %}&quot;&gt;&#13;&#10;                                {% elif is_concessionaria %}&#13;&#10;                                    &lt;a class=&quot;dropdown-item d-flex align-items-center&quot; href=&quot;{% url 'Concessionaria:impostazioni_concessionaria' %}&quot;&gt;&#13;&#10;                                {% else %}&#13;&#10;                                    &lt;a class=&quot;dropdown-item d-flex align-items-center&quot; href=&quot;#&quot;&gt;&#13;&#10;                                {% endif %}&#13;&#10;                                        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;20&quot; height=&quot;20&quot; fill=&quot;darkblue&quot; class=&quot;bi bi-gear me-2&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#13;&#10;                                            &lt;path d=&quot;M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z&quot;/&gt;&#13;&#10;                                            &lt;path d=&quot;M9.796 1.343c-.527-1.013-1.065-1.012-1.592 0l-.094.187a1.319 1.319 0 0 1-1.255.83c-1.07.09-1.342.507-1.342 1.23v.272c0 .723.272 1.14 1.342 1.23.52.044.98.316 1.255.83l.094.187c.527 1.013 1.065 1.012 1.592 0l.094-.187a1.319 1.319 0 0 1 1.255-.83c1.07-.09 1.342-.507 1.342-1.23v-.272c0-.723-.272-1.14-1.342-1.23a1.319 1.319 0 0 1-1.255-.83l-.094-.187zm-2.633.283c.246-.492.532-.492.778 0l.094.187a2.319 2.319 0 0 0 2.21 1.46c.723.09.995.507.995 1.23v.272c0 .723-.272 1.14-.995 1.23a2.319 2.319 0 0 0-2.21 1.46l-.094.187c-.246.492-.532.492-.778 0l-.094-.187a2.319 2.319 0 0 0-2.21-1.46c-.723-.09-.995-.507-.995-1.23v-.272c0-.723.272-1.14.995-1.23a2.319 2.319 0 0 0 2.21-1.46l.094-.187z&quot;/&gt;&#13;&#10;                                        &lt;/svg&gt;&#13;&#10;                                        Impostazioni&#13;&#10;                                    &lt;/a&gt;&#13;&#10;                            &lt;/li&gt;&#13;&#10;                            &lt;li&gt;&#13;&#10;                                &lt;form method=&quot;post&quot; action=&quot;{% url 'logout' %}&quot; style=&quot;display: inline;&quot;&gt;&#13;&#10;                                    {% csrf_token %}&#13;&#10;                                    &lt;button type=&quot;submit&quot; class=&quot;dropdown-item d-flex align-items-center&quot;&gt;&#13;&#10;                                        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;20&quot; height=&quot;20&quot; fill=&quot;darkblue&quot; class=&quot;bi bi-box-arrow-right me-2&quot; viewBox=&quot;0 0 16 16&quot;&gt;&#13;&#10;                                            &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M6 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2a.5.5 0 0 1 1 0v2h6V3H7v2a.5.5 0 0 1-1 0V3z&quot;/&gt;&#13;&#10;                                            &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z&quot;/&gt;&#13;&#10;                                        &lt;/svg&gt;&#13;&#10;                                        Disconnetti&#13;&#10;                                    &lt;/button&gt;&#13;&#10;                                &lt;/form&gt;&#13;&#10;                            &lt;/li&gt;&#13;&#10;                        &lt;/ul&gt;&#13;&#10;                    &lt;/div&gt;&#13;&#10;                {% else %}&#13;&#10;                    &lt;div class=&quot;d-flex align-items-center&quot; style=&quot;gap: 12px;&quot;&gt;&#13;&#10;                        &lt;a href=&quot;{% url 'login' %}&quot; class=&quot;btn btn-link btn-sm text-white fw-bold text-decoration-none&quot; style=&quot;color: white&quot;&gt;Accedi&lt;/a&gt;&#13;&#10;                        &lt;a href=&quot;{% url 'Utente:register' %}&quot; class=&quot;btn btn-link btn-sm text-white fw-bold text-decoration-none&quot; style=&quot;color: white&quot;&gt;Registrati&lt;/a&gt;&#13;&#10;                    &lt;/div&gt;&#13;&#10;                {% endif %}&#13;&#10;            &lt;/nav&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;    &lt;/header&gt;&#13;&#10;    &lt;main class=&quot;container-fluid mt-4 d-flex flex-column align-items-center justify-content-center&quot;&gt;&#13;&#10;        &lt;aside class=&quot;d-flex align-items-center justify-content-center w-100&quot; style=&quot;min-height: 1px;&quot;&gt;&#13;&#10;            &lt;div class=&quot;filter-section shadow-lg p-4 rounded-5 border-0 bg-white&quot; style=&quot;min-width:420px;max-width:900px;width:100%;&quot;&gt;&#13;&#10;                &lt;form method=&quot;get&quot;&gt;&#13;&#10;                    &lt;div class=&quot;row g-3 filter-grid&quot;&gt;&#13;&#10;                        {% for field in filter.form.visible_fields %}&#13;&#10;                            {% if field.name == 'disponibilita' %}&#13;&#10;                                &lt;div class=&quot;col filter-col&quot;&gt;&#13;&#10;                                    &lt;label for=&quot;{{ field.id_for_label }}&quot; class=&quot;form-label filter-label&quot;&gt;Disponibilità&lt;/label&gt;&#13;&#10;                                    {{ field }}&#13;&#10;                                &lt;/div&gt;&#13;&#10;                            {% else %}&#13;&#10;                                &lt;div class=&quot;col filter-col&quot;&gt;&#13;&#10;                                    &lt;label for=&quot;{{ field.id_for_label }}&quot; class=&quot;form-label filter-label&quot;&gt;{{ field.label }}&lt;/label&gt;&#13;&#10;                                    {{ field }}&#13;&#10;                                &lt;/div&gt;&#13;&#10;                            {% endif %}&#13;&#10;                        {% endfor %}&#13;&#10;                    &lt;/div&gt;&#13;&#10;                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-custom w-100 mt-4 py-3 fs-5 shadow-sm&quot;&gt;Applica filtri&lt;/button&gt;&#13;&#10;                &lt;/form&gt;&#13;&#10;            &lt;/div&gt;&#13;&#10;        &lt;/aside&gt;&#13;&#10;        &lt;section class=&quot;col-lg-9 col-md-8 col-12&quot;&gt;&#13;&#10;            &lt;div class=&quot;car-list&quot;&gt;&#13;&#10;                &lt;div class=&quot;card-list&quot;&gt;&#13;&#10;                    {% for car in cars_page %}&#13;&#10;                    &lt;div class=&quot;card&quot;&gt;&#13;&#10;                        {% if car.immagine %}&#13;&#10;                            &lt;img src=&quot;{{ car.immagine.url }}&quot; class=&quot;card-img-top&quot; alt=&quot;{{ car.nome }}&quot;&gt;&#13;&#10;                        {% endif %}&#13;&#10;                        &lt;div class=&quot;card-body&quot;&gt;&#13;&#10;                            &lt;h5 class=&quot;card-title&quot;&gt;{{ car.marca }} {{ car.modello }}&lt;/h5&gt;&#13;&#10;                            &lt;p class=&quot;card-text&quot;&gt;Anno: {{ car.anno }}&lt;br&gt;&#13;&#10;                                {% with vendita=car.vendita.first %}&#13;&#10;                                    {% if vendita %}&#13;&#10;                                        Prezzo: €{{ vendita.prezzo_vendita }}&lt;br&gt;&#13;&#10;                                    {% endif %}&#13;&#10;                                {% endwith %}&#13;&#10;                                {% with affitto=car.affitto.first %}&#13;&#10;                                    {% if affitto %}&#13;&#10;                                        Prezzo Noleggio: €{{ affitto.prezzo_affitto }}/giorno&lt;br&gt;&#13;&#10;                                    {% endif %}&#13;&#10;                                {% endwith %}&#13;&#10;                            &lt;/p&gt;&#13;&#10;                            &lt;a href=&quot;{% url 'Auto:auto-detail' pk=car.id %}?next={{ request.get_full_path }}&quot; class=&quot;btn btn-custom&quot;&gt;Dettagli&lt;/a&gt;&#13;&#10;                        &lt;/div&gt;&#13;&#10;                    &lt;/div&gt;&#13;&#10;                    {% endfor %}&#13;&#10;                &lt;/div&gt;&#13;&#10;            &lt;/div&gt;&#13;&#10;        &lt;/section&gt;&#13;&#10;    &lt;/main&gt;&#13;&#10;    &lt;!-- Nuovo paginator orizzontale, centrato, senza pallini --&gt;&#13;&#10;    &lt;nav aria-label=&quot;Paginazione auto&quot; class=&quot;my-5&quot;&gt;&#13;&#10;        &lt;div class=&quot;d-flex justify-content-center&quot;&gt;&#13;&#10;            &lt;ul class=&quot;paginator-ul&quot;&gt;&#13;&#10;                {% if cars_page.has_previous %}&#13;&#10;                &lt;li&gt;&#13;&#10;                    &lt;a class=&quot;paginator-link&quot; href=&quot;?page={{ cars_page.previous_page_number }}&quot; aria-label=&quot;Pagina precedente&quot;&gt;&#13;&#10;                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;&#13;&#10;                    &lt;/a&gt;&#13;&#10;                &lt;/li&gt;&#13;&#10;                {% endif %}&#13;&#10;                {% for num in cars_page.paginator.page_range %}&#13;&#10;                &lt;li&gt;&#13;&#10;                    &lt;a class=&quot;paginator-link {% if cars_page.number == num %}paginator-link-active{% endif %}&quot; href=&quot;?page={{ num }}&quot;&gt;{{ num }}&lt;/a&gt;&#13;&#10;                &lt;/li&gt;&#13;&#10;                {% endfor %}&#13;&#10;                {% if cars_page.has_next %}&#13;&#10;                &lt;li&gt;&#13;&#10;                    &lt;a class=&quot;paginator-link&quot; href=&quot;?page={{ cars_page.next_page_number }}&quot; aria-label=&quot;Pagina successiva&quot;&gt;&#13;&#10;                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;&#13;&#10;                    &lt;/a&gt;&#13;&#10;                &lt;/li&gt;&#13;&#10;                {% endif %}&#13;&#10;            &lt;/ul&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;    &lt;/nav&gt;&#13;&#10;    &lt;footer&gt;&#13;&#10;        &lt;div style=&quot;text-align:center;&quot;&gt;&#13;&#10;            &lt;div style=&quot;margin-bottom: 10px;&quot;&gt;&#13;&#10;                &lt;a href=&quot;https://facebook.com&quot; target=&quot;_blank&quot; style=&quot;margin:0 8px;display:inline-block;&quot;&gt;&#13;&#10;                    &lt;img src=&quot;https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg&quot; alt=&quot;Facebook&quot; style=&quot;width:32px;height:32px;filter:grayscale(1);&quot;&gt;&#13;&#10;                &lt;/a&gt;&#13;&#10;                &lt;a href=&quot;https://wa.me/&quot; target=&quot;_blank&quot; style=&quot;margin:0 8px;display:inline-block;&quot;&gt;&#13;&#10;                    &lt;img src=&quot;https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/whatsapp.svg&quot; alt=&quot;WhatsApp&quot; style=&quot;width:32px;height:32px;filter:grayscale(1);&quot;&gt;&#13;&#10;                &lt;/a&gt;&#13;&#10;                &lt;a href=&quot;https://instagram.com&quot; target=&quot;_blank&quot; style=&quot;margin:0 8px;display:inline-block;&quot;&gt;&#13;&#10;                    &lt;img src=&quot;https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg&quot; alt=&quot;Instagram&quot; style=&quot;width:32px;height:32px;filter:grayscale(1);&quot;&gt;&#13;&#10;                &lt;/a&gt;&#13;&#10;                &lt;a href=&quot;mailto:info@autosaloonmodena.it&quot; target=&quot;_blank&quot; style=&quot;margin:0 8px;display:inline-block;&quot;&gt;&#13;&#10;                    &lt;img src=&quot;https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/gmail.svg&quot; alt=&quot;Gmail&quot; style=&quot;width:32px;height:32px;filter:grayscale(1);&quot;&gt;&#13;&#10;                &lt;/a&gt;&#13;&#10;                &lt;a href=&quot;https://linkedin.com&quot; target=&quot;_blank&quot; style=&quot;margin:0 8px;display:inline-block;&quot;&gt;&#13;&#10;                    &lt;img src=&quot;https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg&quot; alt=&quot;LinkedIn&quot; style=&quot;width:32px;height:32px;filter:grayscale(1);&quot;&gt;&#13;&#10;                &lt;/a&gt;&#13;&#10;            &lt;/div&gt;&#13;&#10;            &lt;p&gt;&#13;&#10;                Copyright © 2025 AutoSalonModena S.p.A., società ad azionista unico sottoposta a direzione e coordinamento da parte della MutinaAutoSalon.&lt;br&gt;&#13;&#10;                Tutti i diritti riservati. P.IVA n. ???????????&#13;&#10;            &lt;/p&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;    &lt;/footer&gt;&#13;&#10;&lt;script src=&quot;{% static 'bootstrap/js/bootstrap.bundle.min.js' %}&quot;&gt;&lt;/script&gt;&#13;&#10;&lt;/body&gt;&#13;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Drusi/Progetto_TecWeb/Autosaloon_Modena/apps/Auto/views.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Drusi/Progetto_TecWeb/Autosaloon_Modena/apps/Auto/views.py" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/apps/Utente/views.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/apps/Utente/views.py" />
              <option name="updatedContent" value="# ...existing code...&#10;class SegnalazioneCreateView(CreateView):&#10;    form_class = SegnalazioneForm&#10;    template_name = 'Auto/auto_detail.html'&#10;    success_url = reverse_lazy('home')&#10;&#10;    def dispatch(self, request, *args, **kwargs):&#10;        # ...existing code...&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    def get_context_data(self, **kwargs):&#10;        context = super().get_context_data(**kwargs)&#10;        commento_id = self.request.GET.get('commento_id') or self.request.POST.get('commento_id')&#10;        auto = None&#10;        if commento_id:&#10;            try:&#10;                commento = Commento.objects.get(id=commento_id)&#10;                auto = commento.auto&#10;            except Commento.DoesNotExist:&#10;                auto = None&#10;        context['auto'] = auto&#10;        return context&#10;&#10;    def form_valid(self, form):&#10;        commento_id = self.request.GET.get('commento_id') or self.request.POST.get('commento_id')&#10;        auto = None&#10;        if not commento_id:&#10;            messages.error(self.request, &quot;Segnalazione non valida: commento mancante.&quot;)&#10;            return redirect(self.success_url)&#10;        try:&#10;            commento = Commento.objects.get(id=commento_id)&#10;            segnalato = commento.user&#10;            auto = commento.auto&#10;            # Solo utenti normali possono essere segnalati&#10;            if hasattr(segnalato, 'concessionaria_profile'):&#10;                messages.error(self.request, &quot;Non puoi segnalare una concessionaria.&quot;)&#10;                return redirect(auto.get_absolute_url() if auto else self.success_url)&#10;            # Salva la segnalazione&#10;            segnalazione = form.save(commit=False)&#10;            segnalazione.segnalatore = self.request.user&#10;            segnalazione.segnalato = segnalato&#10;            segnalazione.motivo = form.cleaned_data['motivo']&#10;            segnalazione.save()&#10;            # Gestione ban&#10;            ban_profile, _ = UserModelBan.objects.get_or_create(user=segnalato)&#10;            ban_profile.segnalazioni = (ban_profile.segnalazioni or 0) + 1&#10;            if ban_profile.segnalazioni &gt;= 5:&#10;                now = timezone.now()&#10;                # Ban incrementale&#10;                if ban_profile.qnt_ban:&#10;                    ban_hours = 2 * (2 ** (ban_profile.qnt_ban - 1))&#10;                else:&#10;                    ban_hours = 2&#10;                ban_profile.data_inizio_ban = now&#10;                ban_profile.data_fine_ban = now + timezone.timedelta(hours=ban_hours)&#10;                ban_profile.qnt_ban = (ban_profile.qnt_ban or 0) + 1&#10;                ban_profile.segnalazioni = 0&#10;                messages.error(self.request, f&quot;Utente bannato per {ban_hours} ore!&quot;)&#10;            ban_profile.save()&#10;            messages.success(self.request, &quot;Segnalazione inviata correttamente.&quot;)&#10;        except Commento.DoesNotExist:&#10;            messages.error(self.request, &quot;Commento non trovato.&quot;)&#10;        return redirect(auto.get_absolute_url() if auto else self.success_url)&#10;&#10;    def form_invalid(self, form):&#10;        messages.error(self.request, &quot;Errore nell'invio della segnalazione.&quot;)&#10;        commento_id = self.request.GET.get('commento_id') or self.request.POST.get('commento_id')&#10;        auto = None&#10;        if commento_id:&#10;            try:&#10;                commento = Commento.objects.get(id=commento_id)&#10;                auto = commento.auto&#10;            except Commento.DoesNotExist:&#10;                auto = None&#10;        return redirect(auto.get_absolute_url() if auto else self.success_url)&#10;# ...existing code...&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/templates/Auto/user_autos.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/templates/Auto/user_autos.html" />
              <option name="originalContent" value="&#10;&#10;&#10;" />
              <option name="updatedContent" value="{% extends 'base.html' %}&#10;&#10;{% block content %}&#10;&#10;                    &lt;a href=&quot;{% url 'Auto:edit_auto' auto.pk %}&quot; class=&quot;btn btn-primary btn-sm&quot;&gt;Modifica&lt;/a&gt;&#10;                    &lt;form method=&quot;post&quot; action=&quot;{% url 'Auto:delete_auto' auto.pk %}&quot; style=&quot;display:inline;&quot;&gt;&#10;                        {% csrf_token %}&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn btn-danger btn-sm delete-auto-btn&quot;&gt;Elimina&lt;/button&gt;&#10;                    &lt;/form&gt;&#10;                &lt;/td&gt;&#10;            &lt;/tr&gt;&#10;            {% endfor %}&#10;        &lt;/tbody&gt;&#10;    &lt;/table&gt;&#10;&lt;/div&gt;&#10;&#10;{% include 'Autosalone/confirm_delete_popup.html' %}&#10;&lt;script&gt;&#10;document.addEventListener('DOMContentLoaded', function() {&#10;    let formToDelete = null;&#10;    document.querySelectorAll('.delete-auto-btn').forEach(function(btn) {&#10;        btn.addEventListener('click', function(e) {&#10;            e.preventDefault();&#10;            formToDelete = btn.closest('form');&#10;            var modal = new bootstrap.Modal(document.getElementById('confirmDeleteModal'));&#10;            var confirmBtn = document.getElementById('confirmDeleteBtn');&#10;            confirmBtn.onclick = function() {&#10;                if(formToDelete) formToDelete.submit();&#10;                modal.hide();&#10;            };&#10;            modal.show();&#10;        });&#10;    });&#10;});&#10;&lt;/script&gt;&#10;{% endblock %}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/templates/Autosalone/confirm_delete_popup.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/templates/Autosalone/confirm_delete_popup.html" />
              <option name="updatedContent" value="&lt;!-- Popup di conferma eliminazione generico e riutilizzabile --&gt;&#10;&lt;div class=&quot;modal fade&quot; id=&quot;confirmDeleteModal&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;confirmDeleteModalLabel&quot; aria-hidden=&quot;true&quot;&gt;&#10;  &lt;div class=&quot;modal-dialog modal-dialog-centered&quot;&gt;&#10;    &lt;div class=&quot;modal-content&quot;&gt;&#10;      &lt;div class=&quot;modal-header&quot;&gt;&#10;        &lt;h5 class=&quot;modal-title&quot; id=&quot;confirmDeleteModalLabel&quot;&gt;Conferma eliminazione&lt;/h5&gt;&#10;        &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Chiudi&quot;&gt;&lt;/button&gt;&#10;      &lt;/div&gt;&#10;      &lt;div class=&quot;modal-body&quot;&gt;&#10;        Sei sicuro di voler eliminare questo elemento? Questa azione non può essere annullata.&#10;      &lt;/div&gt;&#10;      &lt;div class=&quot;modal-footer&quot;&gt;&#10;        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;Annulla&lt;/button&gt;&#10;        &lt;button type=&quot;button&quot; class=&quot;btn btn-danger&quot; id=&quot;confirmDeleteBtn&quot;&gt;Elimina&lt;/button&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/div&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/templates/Utente/impostazioni_utente_template.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/templates/Utente/impostazioni_utente_template.html" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/templates/base.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/templates/base.html" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>