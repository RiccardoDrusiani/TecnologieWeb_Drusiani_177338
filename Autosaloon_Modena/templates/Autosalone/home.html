{% load static %}
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concessionaria - Home</title>
    <link rel="icon" type="image/png" href="{% static 'favicon.png' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/home_custom.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
        }
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        main {
            flex: 1;
        }
        .am-logo-favicon {
            font-family: 'Pacifico', cursive;
            font-size: 2.1rem;
            font-weight: bold;
            color: #2563eb;
            background: white;
            border-radius: 50%;
            width: 2.6rem;
            height: 2.6rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px #2563eb33;
            position: absolute;
            left: 0.7rem;
            top: 0.7rem;
            z-index: 1000;
        }
        @media (max-width: 600px) {
            .am-logo-favicon { font-size: 1.3rem; width: 1.7rem; height: 1.7rem; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-custom d-flex justify-content-end align-items-center" style="gap: 24px;">
            <h1 class="header-title text-end" style="font-family: 'Pacifico', cursive; font-size:2.7rem; font-weight:900; letter-spacing:2px; color:#fff; text-shadow:2px 2px 8px #1e3a8a, 0 0 12px #2563eb; margin:0 18px 0 0; flex:1;">Autosaloon<span style="color:#2563eb;">Modena</span></h1>
                <a href="/accounts/login/" class="btn btn-link btn-sm" style="color:#fff;font-weight:700;text-decoration:none;">Accedi</a>
                <a href="/accounts/register/" class="btn btn-link btn-sm" style="color:#fff;font-weight:700;text-decoration:none;">Registrati</a>
            </div>
        </div>
    </header>
    <main class="container-fluid mt-4 d-flex flex-column align-items-center justify-content-center">
        <aside class="d-flex align-items-center justify-content-center w-100" style="min-height: 1px;">
            <div class="filter-section shadow-lg p-4 rounded-5 border-0 bg-white" style="min-width:420px;max-width:900px;width:100%;">
                <form method="get">
                    <div class="row g-3 filter-grid">
                        {% for field in filter.form.visible_fields %}
                        <div class="col filter-col">
                            <label for="{{ field.id_for_label }}" class="form-label filter-label">{{ field.label }}</label>
                            {{ field }}
                        </div>
                        {% endfor %}
                    </div>
                    <button type="submit" class="btn btn-custom w-100 mt-4 py-3 fs-5 shadow-sm">Applica filtri</button>
                </form>
            </div>
        </aside>
        <section class="col-lg-9 col-md-8 col-12">
            <div class="car-list">
                <div class="card-list">
                    {% for car in cars_page %}
                    <div class="card">
                        <img src="{% static car.image %}" class="card-img-top" alt="{{ car.nome }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ car.nome }}</h5>
                            <p class="card-text">Anno: {{ car.anno }}<br>Prezzo: €{{ car.prezzo }}</p>
                            <a href="{% url 'Auto:auto-detail' pk=car.id %}" class="btn btn-custom">Dettagli</a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>
    </main>
    <!-- Nuovo paginator orizzontale, centrato, senza pallini -->
    <nav aria-label="Paginazione auto" class="my-5">
        <div class="d-flex justify-content-center">
            <ul class="paginator-ul">
                {% if cars_page.has_previous %}
                <li>
                    <a class="paginator-link" href="?page={{ cars_page.previous_page_number }}" aria-label="Pagina precedente">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                {% endif %}
                {% for num in cars_page.paginator.page_range %}
                <li>
                    <a class="paginator-link {% if cars_page.number == num %}paginator-link-active{% endif %}" href="?page={{ num }}">{{ num }}</a>
                </li>
                {% endfor %}
                {% if cars_page.has_next %}
                <li>
                    <a class="paginator-link" href="?page={{ cars_page.next_page_number }}" aria-label="Pagina successiva">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
                {% endif %}
            </ul>
        </div>
    </nav>
    <footer>
        <div style="text-align:center;">
            <div style="margin-bottom: 10px;">
                <a href="https://facebook.com" target="_blank" style="margin:0 8px;display:inline-block;">
                    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook" style="width:32px;height:32px;filter:grayscale(1);">
                </a>
                <a href="https://wa.me/" target="_blank" style="margin:0 8px;display:inline-block;">
                    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/whatsapp.svg" alt="WhatsApp" style="width:32px;height:32px;filter:grayscale(1);">
                </a>
                <a href="https://instagram.com" target="_blank" style="margin:0 8px;display:inline-block;">
                    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram" style="width:32px;height:32px;filter:grayscale(1);">
                </a>
                <a href="mailto:info@autosaloonmodena.it" target="_blank" style="margin:0 8px;display:inline-block;">
                    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/gmail.svg" alt="Gmail" style="width:32px;height:32px;filter:grayscale(1);">
                </a>
                <a href="https://linkedin.com" target="_blank" style="margin:0 8px;display:inline-block;">
                    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg" alt="LinkedIn" style="width:32px;height:32px;filter:grayscale(1);">
                </a>
            </div>
            <p>
                Copyright © 2025 AutoSalonModena S.p.A., società ad azionista unico sottoposta a direzione e coordinamento da parte della MutinaAutoSalon.<br>
                Tutti i diritti riservati. P.IVA n. ???????????
            </p>
        </div>
    </footer>
</body>
</html>